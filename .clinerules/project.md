文件夹定义：
/api    - 后端(基于FastAPI)
├── controllers/       # 控制器层
├── domain/            # 业务逻辑层
├── models/            # 数据库表模型
├── repositories/      # 数据访问层（repo）
├── services/          # 外部服务交互层
├── utils/             # 工具函数
├── runtime/           # 运行时数据
   ├── logs/           # 日志，按照天存储
   ├── cache/          # 基于文件的缓存
   └── files/          # 临时文件
├── __init__.py        # 空文件
├── main.py            # 入口
├── Dockerfile         # 构建文件
└── schemas/           # 数据结构 & 校验层
/web    - 前端(基于Layui)
/web/layui - layui框架源文件
/test   - 临时脚本文件、测试脚本文件和文档

邮件文件保存规则：
/emails/hu@eryun.top/<数据库邮件记录id>.eml

一、开发要求（重要）：
. 因为是Sqlite数据库，请在操作数据库时创建临时脚本文件并执行来操作而不是删除数据库文件
. 不需要你启动任何前后端服务，我已经启动过了，后端端口：9999，前端我自己看

二、账号信息：
管理员账号: eryuns Hujunhao.110（除用户管理权限外与普通用户一致）
调试邮箱账号：l@eryun.top / V9y9k4eW5rL9eA1c

| 协议 | 服务器地址 | 服务器端口号（常规） | 服务器端口号（加密） |
| :--- | :--- | :--- | :--- |
| IMAP | imap.qiye.aliyun.com | 143 | 993 |
| SMTP | smtp.qiye.aliyun.com | 25 | 465 |

三、项目描述:
当前项目是一个在线邮箱客户端服务，需求：
1. **框架与技术栈**：
   * 使用 **Python FastAPI和uvicorn、SQLite数据库** 的多用户邮箱在线客户端（不是临时邮箱）服务。
   * 前端接口分离，实现响应式用户界面。
   * 后端接口采用 **Restful API** 风格，接口前缀为 `/api`。
2. **用户管理**：
   * 实现 **用户注册、登录、登出** 功能。
   * 实现 **用户信息管理**：修改个人信息、密码重置。
   * 用户列表展示与搜索。
   * 用户注册开关。
3. **邮箱管理**：
   * 支持 **多邮箱账户管理**：每个用户可以绑定多个邮箱账户。
   * 邮箱账户配置管理：**POP3/IMAP/Smtp设置**。
   * 支持邮箱同步状态查看、邮箱账户删除与修改。
   * 邮箱账户 **授权管理**。
4. **历史邮件获取**：
   * 支持按 **时间、发件人、主题等条件过滤邮件**。
   * 获取邮件附件、邮件内容、发件人/收件人信息。
   * 邮件文件夹同步：**收件箱、发件箱、草稿箱、已删除邮件等**。
   * 支持 **分页加载邮件列表**，优化性能。
5. **实时邮件获取**：
   * 使用 **长连接** 或 **WebSocket** 实现 **实时邮件推送**。
   * 支持 **定时拉取邮件**，即时更新用户邮箱状态。
   * 支持邮件变化通知：新邮件、邮件删除、邮件状态更新。
6. **邮件发送与草稿管理**：
   * 实现邮件 **发送**，支持 **附件上传**。
   * 支持 **草稿邮件保存与继续编辑**。
   * 邮件发送状态：已发送、草稿、发送失败等。
7. **邮件搜索**：
   * 支持 **邮件搜索功能**，按关键词、发件人、收件人、邮件日期等过滤。
